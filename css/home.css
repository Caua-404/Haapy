body{ background:#0b0f1a; color:#e9eef7 }
#bgParticles,#sky,#fxFire{ position:fixed; inset:0; z-index:0; pointer-events:none; }

.topbar{
  position:sticky; top:0; z-index:5; backdrop-filter:saturate(170%) blur(8px);
  background:linear-gradient(180deg,rgba(13,18,30,.70),rgba(13,18,30,.45));
  border-bottom:1px solid rgba(255,255,255,.07); display:flex; align-items:center; justify-content:space-between; padding:10px 16px;
}
.brand{ font-weight:600; letter-spacing:.3px }
.brand span{ color:#a7d0ff }
.actions{ display:flex; gap:8px }

.container{ width:min(1100px,92vw); margin:32px auto 80px }
.hero h1{ font-family:"Sawarabi Mincho",serif; font-weight:400; margin:.2rem 0 }
.lead{ opacity:.85 }

h2{ margin:28px 0 10px }

.timeline{ display:grid; gap:12px }
.year{ opacity:.8; margin-top:14px }
.card{
  display:grid; gap:6px; padding:12px; border-radius:14px; background:rgba(255,255,255,.03);
  border:1px solid rgba(255,255,255,.08); cursor:pointer; transition:transform .08s ease, box-shadow .2s;
}
.card:hover{ transform:translateY(-1px); box-shadow:0 12px 30px rgba(0,0,0,.35) }
.card img{ width:100%; border-radius:10px; object-fit:cover }

.gallery{ display:grid; grid-template-columns:repeat(auto-fill,minmax(180px,1fr)); gap:14px; margin-top:4px }

.flip{ perspective:1000px }
.flip__inner{ position:relative; transform-style:preserve-3d; transition:transform .6s }
.flip:hover .flip__inner{ transform:rotateY(180deg) }
.flip__face{ backface-visibility:hidden; border-radius:12px; overflow:hidden; border:1px solid rgba(255,255,255,.08) }
.flip__front img{ display:block; width:100%; height:160px; object-fit:cover }
.flip__back{ position:absolute; inset:0; transform:rotateY(180deg); display:grid; place-items:center; background:rgba(17,24,39,.85); padding:14px }

.final-wrap{ margin-top:28px }
.final-msg{ min-height:40px; margin-top:14px; font-size:18px }

.audio{ position:fixed; right:14px; bottom:14px; display:flex; gap:8px; z-index:6 }
.btn{
  border-radius:10px; border:1px solid rgba(255,255,255,.14);
  background:linear-gradient(180deg,#1c2333,#141a28); color:#fff; cursor:pointer; font-weight:600;
  padding:10px 12px; transition: transform .08s ease, box-shadow .2s ease;
}
.btn-outline{ background:transparent }
.btn:hover{ box-shadow:0 10px 30px rgba(0,0,0,.35) }
.btn:active{ transform:translateY(1px) }

.modal{ position:fixed; inset:0; background:rgba(0,0,0,.55); display:grid; place-items:center; z-index:50 }
.modal__box{ width:min(640px,94vw); border-radius:14px; background:#111827; color:#fff; border:1px solid rgba(255,255,255,.08) }
.modal__body{ padding:18px }
.modal__actions{ display:flex; justify-content:flex-end; gap:8px; margin-top:10px }

/* overlay para liberar áudio */
#audioGate{ position:fixed; inset:0; display:grid; place-items:center; background:rgba(0,0,0,.55); z-index:15 }

/* ===== Timeline bonita com anos, lados alternados e linha central ===== */
.timeline-wrap { position: relative; }

.timeline-year { margin: 36px 0 10px; }
.timeline-year__title{
  font: 700 22px/1.2 "Inter", system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  letter-spacing: .5px;
  color: #f7f7fb;
  text-shadow: 0 2px 20px rgba(0,0,0,.55);
  margin-bottom: 10px;
}

/* linha vertical central */
.tl{
  position: relative;
  list-style: none;
  margin: 0;
  padding: 30px 0;
}
.tl::before{
  content: "";
  position: absolute;
  top: 0; bottom: 0; left: 50%;
  width: 2px;
  background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.02));
  transform: translateX(-50%);
}

.tl__item{
  position: relative;
  width: 50%;
  padding: 16px 28px;
  box-sizing: border-box;
}
.tl__item.is-left{ left: 0; text-align: right; }
.tl__item.is-right{ left: 50%; text-align: left; }

.tl__badge{
  display: inline-block;
  font: 600 12px/1 "Inter", system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  color: #e6ecff;
  background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.02));
  border: 1px solid rgba(255,255,255,.08);
  border-radius: 999px;
  padding: 6px 10px;
  margin-bottom: 8px;
  backdrop-filter: blur(6px);
}
.tl__item.is-left .tl__badge{ margin-right: 8px; }
.tl__item.is-right .tl__badge{ margin-left: 8px; }

.tl__line{
  position: absolute;
  top: 24px;
  width: 18px; height: 2px;
  background: rgba(255,255,255,.18);
}
.tl__item.is-left .tl__line{
  right: -9px; left: auto;
}
.tl__item.is-right .tl__line{
  left: -9px; right: auto;
}

.tl__card{
  display: inline-flex;
  align-items: stretch;
  gap: 12px;
  max-width: 520px;
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(0,0,0,.28));
  border: 1px solid rgba(255,255,255,.10);
  border-radius: 16px;
  padding: 14px;
  box-shadow: 0 20px 50px rgba(0,0,0,.45);
  cursor: pointer;
  transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease;
  vertical-align: top;
}
.tl__card:hover{
  transform: translateY(-2px);
  border-color: rgba(255,255,255,.18);
  box-shadow: 0 24px 60px rgba(0,0,0,.55);
}
.tl__img{
  margin: 0;
  width: 120px; height: 90px; overflow: hidden;
  border-radius: 12px;
  flex: 0 0 auto;
}
.tl__img img{
  width: 100%; height: 100%; object-fit: cover; display: block;
}
.tl__content{ color: #f0f3ff; }
.tl__content h4{
  margin: 0 0 6px;
  font: 700 16px/1.25 "Inter", system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
}
.tl__content p{
  margin: 0; opacity: .9; font-size: 13px; line-height: 1.5;
}

/* só texto (sem imagem): ocupa a largura toda do card */
.tl__content.only-text{ padding-left: 4px; }

/* responsivo */
@media (max-width: 900px){
  .tl::before{ left: 12px; transform: none; }
  .tl__item{ width: 100%; padding-left: 28px; }
  .tl__item.is-left, .tl__item.is-right{ left: 0; text-align: left; }
  .tl__line{ left: 12px; }
  .tl__item.is-left .tl__line, .tl__item.is-right .tl__line{ left: 12px; right: auto; }
  .tl__badge{ margin-left: 0 !important; }
}

/* ===== THEME ===== */
:root{
  --bg1:#0a0b10; --bg2:#0f1230; --bg3:#101536;
  --brand:#ff5ea8;        /* rosa-magenta */
  --brand-2:#7cf4ff;      /* ciano */
  --glass: rgba(255,255,255,.07);
  --glass-2: rgba(255,255,255,.12);
  --text:#f3f6ff; --muted:#c9d1ff;
}

/* ===== AURORA ANIMADA DE FUNDO ===== */
body::before, body::after{
  content:""; position:fixed; inset:-20% -20% auto -20%;
  height:120vh; z-index:-2; pointer-events:none;
  background:
    radial-gradient(45% 60% at 20% 30%, rgba(255,94,168,.12), transparent 60%),
    radial-gradient(40% 40% at 80% 20%, rgba(124,244,255,.12), transparent 60%),
    radial-gradient(55% 40% at 60% 80%, rgba(167,124,255,.10), transparent 60%);
  filter: blur(40px);
  animation: auroraMove 22s ease-in-out infinite alternate;
}
body::after{ animation-duration: 28s; transform: scaleX(-1); }

@keyframes auroraMove{
  0%   { transform: translateY(-2%) rotate(0deg);   opacity:.8; }
  100% { transform: translateY(3%) rotate(3deg);    opacity:1;  }
}

/* ===== GLASS HEADER / BOTOES UAU ===== */
.topbar{
  background: linear-gradient(180deg, rgba(10,12,20,.35), rgba(10,12,20,.05));
  backdrop-filter: blur(8px);
  border-bottom: 1px solid rgba(255,255,255,.08);
}
.brand span{ color: var(--brand); }
.btn{
  position:relative; overflow:hidden;
  background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.02));
  border:1px solid rgba(255,255,255,.14);
  color:var(--text);
  transition: transform .15s ease, box-shadow .2s ease, border-color .2s ease;
}
.btn:hover{
  transform: translateY(-1px);
  box-shadow: 0 8px 26px rgba(255,94,168,.25);
  border-color: rgba(255,255,255,.28);
}
.btn:active{ transform: translateY(0); }

/* brilho diagonal no hover */
.btn::after{
  content:""; position:absolute; inset:-120% -20%;
  background: linear-gradient(120deg, transparent 35%, rgba(255,255,255,.22) 50%, transparent 65%);
  transform: translateX(-50%) rotate(12deg);
  transition: transform .6s ease;
}
.btn:hover::after{ transform: translateX(100%) rotate(12deg); }

/* ===== CARDS GLASS + TILT ===== */
.card, .tl__card, .flip__inner{
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(0,0,0,.28));
  border:1px solid rgba(255,255,255,.10);
  box-shadow: 0 20px 50px rgba(0,0,0,.45);
  border-radius:16px;
  will-change: transform, box-shadow;
}

/* highlight ao focar via teclado */
.card:focus-visible, .btn:focus-visible{
  outline: 2px solid var(--brand);
  outline-offset: 3px;
}

/* ===== MODAL COM BLUR ===== */
.modal{
  backdrop-filter: blur(6px) saturate(120%);
  background: rgba(6,8,14,.55);
}

/* ===== GALERIA FLIP com glow nas bordas ===== */
.flip__face{ position: relative; }
.flip__face::after{
  content:""; position:absolute; inset:0; border-radius:inherit;
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.10), 0 10px 40px rgba(255,94,168,.10);
  pointer-events:none;
}

/* ===== VISUALIZADOR DE ÁUDIO ===== */
#vizBars{
  position:fixed; left:50%; bottom:18px; transform:translateX(-50%);
  width:min(680px, 92vw); height:40px; z-index:11; pointer-events:none;
  opacity:.85;
}

/* ===== SCROLL-REVEAL refinado ===== */
.reveal-init{
  opacity:0; transform: translateY(14px) scale(.98);
  filter: saturate(.9) blur(.2px);
}
.reveal-in{
  opacity:1; transform: translateY(0) scale(1);
  filter: none;
  transition: transform .5s cubic-bezier(.2,.8,.2,1), opacity .45s ease, filter .45s ease;
}

/* ===== CURSOR BRILHO (leve) ===== */
.cursor-dot{
  position:fixed; left:0; top:0; width:10px; height:10px; pointer-events:none; z-index:50;
  border-radius:50%; background: radial-gradient(circle, #fff 0%, rgba(255,255,255,.4) 45%, rgba(255,255,255,0) 70%);
  mix-blend-mode: screen; opacity:.6; transform: translate(-50%, -50%);
}

/* ===========================
   Harry Potter Vibes
   =========================== */

/* Título com cara “mágica” */
@import url('https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@700&display=swap');
.hero h1, .final-wrap h2, .guestbook-wrap h2, .timeline-wrap h2{
  font-family: 'Cinzel Decorative', serif;
  letter-spacing: .5px;
  text-shadow: 0 2px 14px rgba(255, 210, 80, .18);
}

/* Velas (canvas) */
#candles{
  position: fixed; inset: 0;
  z-index: 2;
  pointer-events: none;
  mix-blend-mode: screen;
}

/* Snitch dourada */
#snitch{
  position: fixed;
  width: 18px; height: 18px;
  border-radius: 50%;
  background: radial-gradient(circle at 35% 35%, #fff8 0, #ffe27a 20%, #e8b400 65%, #7d5b00 100%);
  box-shadow: 0 0 18px 6px rgba(255, 220, 90, .55), 0 0 40px rgba(255, 220, 90, .35) inset;
  z-index: 6; pointer-events: auto; cursor: pointer;
  transform: translate(-50%, -50%);
}
/* Asinhas da snitch (CSS puro) */
#snitch::before, #snitch::after{
  content:""; position:absolute; top:50%; width:22px; height:10px;
  border-radius: 12px 12px 0 0;
  background: radial-gradient(ellipse at 50% 0%, rgba(255,255,255,.9), rgba(255,255,255,.02));
  box-shadow: 0 -1px 8px rgba(255,255,255,.25) inset;
  transform-origin: 0 50%;
  animation: wing 0.45s ease-in-out infinite;
  filter: drop-shadow(0 2px 6px rgba(255,255,255,.2));
}
#snitch::before{ right: 100%; transform: rotate(-14deg) translateY(-50%); }
#snitch::after { left: 100%; transform: rotate(14deg) translateY(-50%); animation-delay: .1s; }

@keyframes wing{
  0%,100% { transform: rotate(12deg) translateY(-50%) }
  50%     { transform: rotate(-12deg) translateY(-50%) }
}

/* Papiro (para modal e cards de história) */
.parchment{
  background:
    radial-gradient(120% 120% at 50% 0%, rgba(255,245,210,.35), transparent 70%),
    radial-gradient(120% 120% at 10% 100%, rgba(255,230,170,.24), transparent 60%),
    linear-gradient(180deg, rgba(90,50,10,.12), rgba(60,30,5,.08));
  border: 1px solid rgba(130,90,30,.35);
  box-shadow: 0 10px 30px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.08);
}

/* Aplicar papiro só no modal de história */
#storyModal .modal__box{ border-radius: 16px; }
#storyModal .modal__body{ border-radius: 16px; }
#storyModal .modal__box, #storyModal .modal__body{ background: none; }
#storyModal .modal__body.parchment{ padding: 18px; }

/* “Feitiço” nos botões (varinha) */
.btn.hp{
  border-color: rgba(255,210,80,.55);
  box-shadow: 0 0 0 0 rgba(255,210,80,.0);
}
.btn.hp:hover{
  box-shadow: 0 0 18px 6px rgba(255,210,80,.25);
}

/* Cursor varinha (leve) — opcional */
html{ cursor: url('data:image/svg+xml;utf8,\
<svg xmlns="http://www.w3.org/2000/svg" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\
<path d=\"M3 21l13-13 3 3-13 13H3v-3z\" fill=\"#e8d188\"/>\
<circle cx=\"19\" cy=\"5\" r=\"3\" fill=\"#ffd24d\"/>\
</svg>') 2 2, auto; }

/* Trilhas de pegadas (para usar onde quiser) */
.footprints{
  position: relative;
  --fp: radial-gradient(35% 50% at 50% 50%, rgba(0,0,0,.35) 0 48%, transparent 52%);
  mask: none;
}
.footprints::before{
  content:""; position:absolute; inset:0;
  background:
    var(--fp) 0 0/8px 12px repeat,
    var(--fp) 10px 14px/8px 12px repeat;
  opacity:.12;
  transform: rotate(-8deg);
  animation: steps 18s linear infinite;
  pointer-events:none;
}
@keyframes steps{
  0%   { background-position: 0 0, 10px 14px; }
  100% { background-position: 600px -1200px, 610px -1186px; }
}
